<?xml version="1.0" encoding="UTF-8"?>
<!-- src/main/resources/com/mycompany/pasteleria/desktop/view/Categorias.fxml -->
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.mycompany.pasteleria.desktop.controller.CategoriasController"
      spacing="12" fillWidth="true">

  <padding>
    <Insets top="16" right="16" bottom="16" left="16"/>
  </padding>

  <!-- ===================== Encabezado ===================== -->
  <HBox spacing="8" alignment="CENTER_LEFT">
    <children>
      <Label text="Categorías" styleClass="title"/>
      <Pane HBox.hgrow="ALWAYS"/>
      <TextField fx:id="txtBuscar" promptText="Buscar por nombre..." prefWidth="280"/>
      <Button fx:id="btnBuscar"     text="Buscar"    onAction="#buscar"/>
      <Button fx:id="btnRefrescar"  text="Refrescar" onAction="#refrescar" styleClass="btn-ghost"/>
      <Button fx:id="btnNueva"      text="Nueva"     onAction="#nueva"/>
    </children>
  </HBox>

  <!-- ===================== Tabla + overlay de carga ===================== -->
  <StackPane VBox.vgrow="ALWAYS">
    <children>

      <TableView fx:id="tbl" prefHeight="520">
        <columns>
          <TableColumn fx:id="colId"     text="ID"          prefWidth="90"  styleClass="align-center"/>
          <TableColumn fx:id="colNombre" text="Nombre"      prefWidth="260"/>
          <TableColumn fx:id="colDesc"   text="Descripción" prefWidth="480"/>
        </columns>
        <placeholder>
          <Label text="Sin categorías."/>
        </placeholder>
      </TableView>

      <!-- Overlay: bloquea clics mientras carga -->
      <Region styleClass="overlay" visible="${loader.visible}" mouseTransparent="false"/>
      <ProgressIndicator fx:id="loader" visible="false"
                         maxWidth="80" maxHeight="80"
                         StackPane.alignment="CENTER"/>

    </children>
  </StackPane>

  <!-- ===================== Barra inferior (acciones) ===================== -->
  <HBox spacing="8" alignment="CENTER_LEFT">
    <children>
      <Button fx:id="btnRenombrar" text="Renombrar" onAction="#renombrar" styleClass="btn-ghost"/>
      <Pane HBox.hgrow="ALWAYS"/>
      <!-- (el loader ya está arriba como overlay) -->
    </children>
  </HBox>

</VBox>
