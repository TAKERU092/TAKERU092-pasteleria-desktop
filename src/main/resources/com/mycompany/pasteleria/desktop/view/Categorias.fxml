<?xml version="1.0" encoding="UTF-8"?>
<!-- src/main/resources/com/mycompany/pasteleria/desktop/view/Categorias.fxml -->
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.mycompany.pasteleria.desktop.controller.CategoriasController"
      spacing="12" fillWidth="true">

    <padding>
        <Insets top="16" right="16" bottom="16" left="16"/>
    </padding>

    <!-- ========== ENCABEZADO ========== -->
    <HBox spacing="8" alignment="CENTER_LEFT">
        <children>
            <Label text="Categorías" styleClass="title"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <TextField fx:id="txtBuscar"
                       promptText="Buscar por nombre o descripción..."
                       prefWidth="280"/>
            <Button fx:id="btnBuscar"    text="Buscar"    onAction="#buscar"/>
            <Button fx:id="btnRefrescar" text="Refrescar" onAction="#refrescar" styleClass="btn-ghost"/>
            <Button fx:id="btnNueva"     text="Nueva"     onAction="#nueva"/>
            <Button fx:id="btnEditar"    text="Editar"    onAction="#editar" />
        </children>
    </HBox>

    <!-- ========== TABLA + OVERLAY ========== -->
    <StackPane VBox.vgrow="ALWAYS">
        <children>

            <TableView fx:id="tbl" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colId"
                                 text="ID"
                                 prefWidth="80"
                                 maxWidth="110"
                                 styleClass="align-center"/>
                    <TableColumn fx:id="colNombre"
                                 text="Nombre"
                                 prefWidth="220"/>
                    <TableColumn fx:id="colDesc"
                                 text="Descripción"/>
                </columns>
                <placeholder>
                    <Label text="Sin categorías."/>
                </placeholder>
            </TableView>

            <!-- overlay semitransparente: se muestra cuando loader.visible = true -->
            <Region styleClass="overlay"
                    visible="${loader.visible}"
                    mouseTransparent="false" />

            <ProgressIndicator fx:id="loader"
                               visible="false"
                               maxWidth="80" maxHeight="80"
                               StackPane.alignment="CENTER"/>
        </children>
    </StackPane>

    <!-- ========== BARRA INFERIOR ========== -->
    <HBox spacing="8" alignment="CENTER_LEFT">
        <children>
            <Label text="Doble clic en una fila para editar." style="-fx-opacity:0.7;"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <!-- aquí podrías poner 'Exportar' luego -->
        </children>
    </HBox>

</VBox>
