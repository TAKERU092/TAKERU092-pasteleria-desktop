<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.mycompany.pasteleria.desktop.controller.KDSController"
      spacing="12" fillWidth="true">

  <padding>
    <Insets top="16" right="16" bottom="16" left="16"/>
  </padding>

  <!-- Encabezado -->
  <HBox spacing="8" alignment="CENTER_LEFT">
    <children>
      <Label text="Cocina (KDS)" styleClass="title"/>
      <Pane HBox.hgrow="ALWAYS"/>
      <ComboBox fx:id="cbFiltro" promptText="PENDIENTE / EN_PROCESO / TODOS" prefWidth="260"/>
      <CheckBox fx:id="chkAutoRefresh" text="AutoRefresh"/>
      <Button fx:id="btnRefrescar" text="Refrescar" onAction="#refrescar" styleClass="btn-ghost"/>
    </children>
  </HBox>

  <!-- Grilla de tarjetas -->
  <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" VBox.vgrow="ALWAYS">
    <content>
      <TilePane fx:id="grid" hgap="12" vgap="12" padding="0">
        <!-- Tarjetas se inyectan desde el controlador -->
      </TilePane>
    </content>
  </ScrollPane>

  <!-- Overlay de carga -->
  <StackPane VBox.vgrow="NEVER" pickOnBounds="false">
    <children>
      <Region styleClass="overlay" visible="${loader.visible}" mouseTransparent="false"/>
      <ProgressIndicator fx:id="loader" visible="false" maxWidth="80" maxHeight="80" StackPane.alignment="CENTER"/>
    </children>
  </StackPane>
</VBox>
